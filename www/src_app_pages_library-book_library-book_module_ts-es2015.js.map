{"version":3,"sources":["./src/app/pages/library-book/library-book-routing.module.ts","./src/app/pages/library-book/library-book.module.ts","./src/app/pages/library-book/library-book.page.ts","./src/app/pages/library-book/library-book.page.scss","./src/app/pages/library-book/library-book.page.html"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACc;AAED;AAEtD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,+DAAe;KAC3B;CACF,CAAC;IAMW,4BAA4B,SAA5B,4BAA4B;CAAG;AAA/B,4BAA4B;IAJxC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,4BAA4B,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;AChBA;AACM;AACF;AAEA;AAEgC;AAEvB;IAWzC,qBAAqB,SAArB,qBAAqB;CAAG;AAAxB,qBAAqB;IATjC,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,sFAA4B;SAC7B;QACD,YAAY,EAAE,CAAC,+DAAe,CAAC;KAChC,CAAC;GACW,qBAAqB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBgB;AACK;AAEC;AACU;IAOrD,eAAe,SAAf,eAAe;IAG1B,YAAoB,cAA8B,EAC9B,MAAc,EACd,WAAwB,EACxB,WAA8B,EAC9B,SAA0B;QAJ1B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,cAAS,GAAT,SAAS,CAAiB;IAAI,CAAC;IAEnD,QAAQ;QACN,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;YAClD,IAAI,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE;gBACxD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC;gBAClE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEK,eAAe,CAAC,GAAW,EAAE,QAAgB;;YACjD,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC5C,OAAO,EAAE,mBAAmB;aAC7B,CAAC,CAAC;YACH,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxC,OAAO,EAAE,oCAAoC;gBAC7C,QAAQ,EAAE,IAAI;aACf,CAAC,CAAC;YACH,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;gBAChE,OAAO,CAAC,OAAO,EAAE,CAAC;gBAClB,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;gBACX,KAAK,CAAC,OAAO,EAAE,CAAC;gBAChB,OAAO,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;CAGF;;YA/CO,2DAAc;YAAE,mDAAM;YAEtB,+DAAW;YACX,6DAAiB;YAAE,2DAAe;;AAO7B,eAAe;IAL3B,wDAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;QAC5B,iFAAuC;;KAExC,CAAC;GACW,eAAe,CAqC3B;AArC2B;;;;;;;;;;;;;ACX5B,+DAAe,8CAA8C,2HAA2H,E;;;;;;;;;;;;ACAxL,+DAAe,2MAA2M,aAAa,+LAA+L,YAAY,gDAAgD,aAAa,uEAAuE,eAAe,seAAse,E","file":"src_app_pages_library-book_library-book_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LibraryBookPage } from './library-book.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LibraryBookPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LibraryBookPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LibraryBookPageRoutingModule } from './library-book-routing.module';\n\nimport { LibraryBookPage } from './library-book.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LibraryBookPageRoutingModule\n  ],\n  declarations: [LibraryBookPage]\n})\nexport class LibraryBookPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {AcademicModel, BookModel} from '../../services/library.service';\nimport {HttpService} from '../../services/http.service';\nimport {LoadingController, ToastController} from '@ionic/angular';\n\n@Component({\n  selector: 'app-library-book',\n  templateUrl: './library-book.page.html',\n  styleUrls: ['./library-book.page.scss'],\n})\nexport class LibraryBookPage implements OnInit {\n  field: AcademicModel;\n  books: BookModel[];\n  constructor(private activatedRoute: ActivatedRoute,\n              private router: Router,\n              private httpService: HttpService,\n              private loadingCtrl: LoadingController,\n              private toastCtrl: ToastController) { }\n\n  ngOnInit() {\n    this.activatedRoute.queryParams.subscribe((books) => {\n      if (this.router.getCurrentNavigation().extras.state.data) {\n        this.field = this.router.getCurrentNavigation().extras.state.data;\n        this.books = this.field.books;\n      }\n    });\n  }\n\n  async downloadPreview(url: string, bookName: string) {\n    const loading = await this.loadingCtrl.create({\n      message: 'لطفا منتظر بمانید'\n    });\n    const toast = await this.toastCtrl.create({\n      message: 'اشکالی در ارتباط با سرور وجود دارد',\n      duration: 1500\n    });\n    loading.present();\n    this.httpService.downloadBook(encodeURI(url), bookName).then(() => {\n      loading.dismiss();\n      console.log('download complete');\n    }).catch(e => {\n      toast.present();\n      loading.dismiss();\n    });\n  }\n\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsaWJyYXJ5LWJvb2sucGFnZS5zY3NzIn0= */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/library/book-category\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{field.field}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"ion-padding\\\">\\n    <ion-card *ngFor=\\\"let book of books\\\">\\n      <ion-card-header>\\n        <ion-card-title>{{book.title}}</ion-card-title>\\n        <ion-card-subtitle>{{book.author}}</ion-card-subtitle>\\n      </ion-card-header>\\n      <ion-img src=\\\"{{book.imageUrl}}\\\"></ion-img>\\n        <ion-button (click)=\\\"downloadPreview(book.pdfUrl, book.title)\\\" [disabled]=\\\"book.fullVersion\\\" expand=\\\"block\\\" shape=\\\"round\\\" class=\\\"ion-margin\\\" color=\\\"warning\\\">دانلود نسخه نمونه</ion-button>\\n        <ion-button (click)=\\\"downloadPreview(book.pdfUrl, book.title)\\\" [disabled]=\\\"!book.fullVersion\\\" expand=\\\"block\\\" shape=\\\"round\\\" class=\\\"ion-margin\\\" color=\\\"tertiary\\\">دانلود نسخه کامل</ion-button>\\n\\n\\n    </ion-card>\\n  </div>\\n\\n\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}